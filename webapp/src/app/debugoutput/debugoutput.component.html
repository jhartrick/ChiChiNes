<div class="stepper">
  <button mat-button (click)="nes.DebugStep()">Step</button>
  <button mat-button (click)="nes.DebugStepFrame()">StepFrame</button>
  <button mat-button (click)="nes.Continue()">Continue</button>
</div>
<p class="cpuStatus" [cpuStatus]="nes.wishbone.cpuStatus">
</p>
<p>
  SR: {{ decodedStatusRegister }}
</p>

<div class="ppuStatus">
  <p [ppuStatus]="nes.wishbone.ppuStatus">
    
  </p>
  <p>
    locked hscroll: {{ nes.wishbone.ppuStatus?.lockedHScroll }} locked vscroll: {{ nes.wishbone.ppuStatus?.lockedVScroll }} 
  </p>
</div>

<mat-tab-group dynamicHeight="true" [(selectedIndex)]="selectedTabIndex">
  <mat-tab label="CPU">

    <mat-expansion-panel *ngIf="selectedTabIndex == 0">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Instruction History
        </mat-panel-title>
      </mat-expansion-panel-header>
      <chichines-instructionhistory></chichines-instructionhistory>
    </mat-expansion-panel>
  </mat-tab>
  <mat-tab label="Memory">
    <mat-expansion-panel *ngIf="selectedTabIndex == 1">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Ram Viewer
        </mat-panel-title>
      </mat-expansion-panel-header>
        <chichines-memviewer></chichines-memviewer>
      </mat-expansion-panel>
  </mat-tab>
  <mat-tab label="PPU">
    <mat-expansion-panel *ngIf="selectedTabIndex == 2">
      <mat-expansion-panel-header>
        <mat-panel-title>
          NameTable Viewer
        </mat-panel-title>
      </mat-expansion-panel-header>
      <app-nametableviewer></app-nametableviewer>
      </mat-expansion-panel>
      <mat-expansion-panel *ngIf="selectedTabIndex == 2">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Sprite Viewer
          </mat-panel-title>
        </mat-expansion-panel-header>
        <app-spriteviewer></app-spriteviewer>
        </mat-expansion-panel>
</mat-tab>
</mat-tab-group>

