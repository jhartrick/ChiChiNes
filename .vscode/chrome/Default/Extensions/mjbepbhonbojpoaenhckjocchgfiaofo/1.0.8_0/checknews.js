(function(){function e(a){chrome.extension.sendMessage({method:"getInstalledScripts"},function(b){a&&a(b)})}function f(a){console.log("Ace Script: start engine");chrome.extension.sendMessage({method:"startEngine"},a)}function c(){var a=window.location.host.split(".").slice(-2).join(".");return-1!=["acestream.org","acestream.net","acestream.me"].indexOf(a)}function d(a,b,c){a()||b&&0<b&&setTimeout(function(){d(a,b-1,c)},c)}function g(){var a=document.getElementById("x-acestream-awe-start-engine");
if(!a)return!1;f(function(b){console.log("Ace Script: start engine: response",b);b?a.setAttribute("data-status","started"):a.setAttribute("data-status","failed")});return!0}function h(){var a=document.getElementById("x-acestream-awe-version");if(!a)return!1;c()&&(a.setAttribute("data-vendor","chrome"),a.setAttribute("data-version",chrome.runtime.getManifest().version));return!0}function k(){var a=document.getElementById("x-acestream-awe-installed-scripts");if(!a)return!1;c()&&e(function(b){a.setAttribute("data-scripts",
JSON.stringify(Object.keys(b)))});return!0}document.addEventListener("DOMContentLoaded",function(){d(g,60,500);c()&&(d(h,240,500),d(k,60,500));window===window.top&&chrome.runtime.sendMessage({method:"checkNews",url:document.location.href})},!1)})();
